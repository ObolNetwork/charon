default_language_version:
  golang: go1.17.5 darwin/amd64

repos:
  -   repo: https://github.com/pre-commit/pre-commit-hooks
      rev: v4.1.0
      hooks:
        -   id: trailing-whitespace # trims trailing whitespace
        -   id: end-of-file-fixer # ensures that a file is either empty, or ends with one newline
  -   repo: https://github.com/dnephin/pre-commit-golang
      rev: v0.4.0
      hooks:
        -   id: go-fmt
            args: [ -w, -s ] # simplify code and write result to (source) file instead of stdout
        -   id: go-vet
  -   repo: https://github.com/tekwizely/pre-commit-golang
      rev: v1.0.0-beta.5 # cannot use master as it is a mutable reference and is not supported
      hooks:
        -   id: go-mod-tidy
            files: go.mod
        -   id: go-test-mod
  -   repo: https://github.com/xenowits/go-pre-commit-hooks
      rev: v0.0.1
      hooks:
        -   id: check-go-version
            args: [-v=go1.17]
            pass_filenames: false
            additional_dependencies: [packaging]
        -   id: check-licence-header
            types: [file, go]
