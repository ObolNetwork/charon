version: "3.8"

x-node-base: &node-base
  image: ghcr.io/obolnetwork/charon:latest
  entrypoint: /usr/local/bin/charon
  command: [create,dkg]
  networks: [compose]
  volumes: [testdir:/compose]
  

services:
  node0:
    <<: *node-base
    
    environment:
      CHARON_NAME: compose
      CHARON_NUM_VALIDATORS: 1
      CHARON_OPERATOR_ENRS: enr:-Iu4QJaqYmgLXzT-oWEBw5cStWCZr4mUabjYWbIU27N8f1LDJxFRhJSk-wOhaCb1Gf8jADnS4Ovjf1_5PDogz-BArvIBgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQONUFw1H0g3zscrzm9CVPXkvD8smkgWhB22Qxnu6LcU74N0Y3CCDhqDdWRwgg4u,enr:-Iu4QNbq_nRM3BAP9AlgeowryOJqyBhSYLAx7W1QOW1Vx2gzPRPsdh4nydgMkO3y1KnuLJfND6nsAsryg8hLCoAqfxYBgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQOlNiMJEhTBlKEXIxqMY3Qb6JtoWCOjOIsGXybBv7Agv4N0Y3CCDhqDdWRwgg4u,enr:-Iu4QOoEJivwQimzHM5A2RypINzNiIRp1EJF2ndmKOm4gQ0OZCwE075fXgqHJ1UPauBcE41trHFN7U2Dw7zw6mEA1X0BgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQMvAdYq872DvOsFa1LEYw_ofzDstfEZ5d8OLwmFwEWMmIN0Y3CCDhqDdWRwgg4u,enr:-Iu4QB0pVPfuuBzeKXv2bIeeYryiMspDSPvTBX-ag2SShfp_Md8o_buZdsHRhoSQXkFQy9_GdTPrxrf8gF0ju7W9UD4BgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQN87FG-hb-ym6Li8nf_fDZ3xEjf__MOS755qZc9X2yjcoN0Y3CCDhqDdWRwgg4u
      CHARON_THRESHOLD: 3
      CHARON_WITHDRAWAL_ADDRESS: "0x000000000000000000000000000000000000dead"
      CHARON_DKG_ALGORITHM: frost
      CHARON_OUTPUT_DIR: /compose
    
networks:
  compose:
